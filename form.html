<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <script src="js/jquery-3.4.1.js" type="text/javascript"></script>

    <style>
      * {
        margin: 0;
        padding: 0;
      }

      .parent label {
        color: #000;
        font-size: 30px;
      }

      form {
        position: absolute;
        top: 10%;
        left: 40%;
        padding: 5%;
        background-color: skyblue;
      }

      input {
        padding: 10px;
        margin-top: 5%;
        border-radius: 10px;
        border: none;
        width: 100%;
      }

      .submit_btn {
        width: 100%;
        height: 50px;
        text-align: center;
      }

      .error {
        border: 2px solid red;
      }

      .msg {
        color: red;
        font-size: 15px;
      }

      .success {
        border: 2px solid green;
      }
    </style>
  </head>
  <body>
    <section>
      <div class="container">
        <form
          class="form-try"
          method="post"
          action=""
          onsubmit="return formInput()"
        >
          <div class="parent">
            <label>Username</label>
            <input type="text" name="uname" class="uname" />
            <span class="msg"></span>
          </div>
          <div class="parent">
            <label>Password</label>
            <input type="password" name="pass" class="pass" />
            <span class="msg"></span>
          </div>
          <div class="parent">
            <label>Mobile</label>
            <input type="text" name="mobile" class="mobile" />
            <span class="msg"></span>
          </div>
          <div class="parent">
            <label>Email</label>
            <input type="email" name="email" class="email" />
            <span class="msg"></span>
          </div>
          <div class="submit-button">
            <input
              class="submit_btn"
              type="submit"
              name="signup"
              value="Sign Up"
            />
          </div>
        </form>
      </div>
    </section>

    <script>
      //   console.log(uname.parentElement);

      // form.addEventListener("submit", function (e) {
      //   e.preventDefault();

      //   formInput();
      // });

      function formInput() {
        const uname = document.querySelector(".uname");
        const pass = document.querySelector(".pass");
        const mobile = document.querySelector(".mobile");
        const email = document.querySelector(".email");
        const submit_btn = document.querySelector(".submit_btn");
        const form = document.querySelector(".form-try");
        const arrayy = ["@"];

        var returnval = true;

        const unameValue = uname.value.trim();
        const passValue = pass.value.trim();
        const mobileValue = mobile.value.trim();
        const emailValue = email.value.trim();

        // UNAME VALIDATION
        if (unameValue == "") {
          showErrorMsg(uname, "Username cannot be blank");
          returnval = false;
        } else if (!isNaN(unameValue)) {
          showErrorMsg(uname, "Username must include some digits");
          returnval = false;
        } else if (unameValue.length <= 2) {
          showErrorMsg(uname, "Username cannot be less than 2 digits");
          returnval = false;
        } else {
          showSuccessMsg(uname);
        }

        //PASSWORD VALIDATION

        if (passValue == "") {
          showErrorMsg(pass, "Password cannot be blank");
          returnval = false;
        } else if (passValue.length < 5) {
          showErrorMsg(pass, "Password length must be greather than 5");
          returnval = false;
        } else {
          showSuccessMsg(pass);
        }

        //EMAIL VAIDATION

        if (emailValue == "") {
          showErrorMsg(email, "E-mail cannot be blank");
          returnval = false;
        } else {
          showSuccessMsg(email);
        }

        // MOBILE VALIDATION
        if (mobileValue == "") {
          showErrorMsg(mobile, "Mobile Number cannot be blank");
          returnval = false;
        } else if (mobileValue.length < 10 || mobileValue.length > 10) {
          showErrorMsg(mobile, "Mobile number should be relevant");
          returnval = false;
        } else {
          showSuccessMsg(mobile);
        }

        //  FUNCTIONS
        function showSuccessMsg(input) {
          const inp = input.parentElement;
          const msg = inp.querySelector(".msg");
          input.classList.add("success");
          msg.innerHTML = "";
        }

        function showErrorMsg(input, message) {
          const inp = input.parentElement;
          const msg = inp.querySelector(".msg");
          msg.innerHTML = message;
          input.classList.add("error");
        }

        return returnval;
      }
    </script>
  </body>
</html>
